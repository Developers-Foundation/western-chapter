var TRIANGLE_BASE;var NAVHEIGHT=40;var MOBILE=-1;var windowHeight;var windowWidth;var first=true;function resizeEvent(){windowWidth=$(this).width();windowHeight=$(this).height();TRIANGLE_BASE=Math.floor(windowWidth/3);var b=Math.floor(windowWidth/6);var c=Math.floor(windowWidth*0.005);var a=Math.floor(windowWidth/2)-b;if(windowWidth<=750){if(MOBILE==0||MOBILE==-1){MOBILE=1;$("#mobileNav").removeClass("hidden");$("#triangleNav").addClass("hidden");$(".arrowNav").addClass("hidden");$("#spacer").css("margin-top",NAVHEIGHT+30)}}else{if(MOBILE==1||MOBILE==-1){MOBILE=0;$("#triangleNav").removeClass("hidden");$(".arrowNav").removeClass("hidden");$("#mobileNav").addClass("hidden")}$("#svg1").attr({width:windowWidth,height:TRIANGLE_BASE});$("#spacer").css("margin-top",Math.max(TRIANGLE_BASE+10,windowHeight/2)+"px");$(".poly1").attr("points",b+",0 0,"+TRIANGLE_BASE+" "+TRIANGLE_BASE+","+TRIANGLE_BASE);$(".poly2").attr("points","0,0 "+TRIANGLE_BASE+",0 "+b+","+TRIANGLE_BASE);$(".poly5").attr("points","0,0 "+b+",0 "+TRIANGLE_BASE+","+TRIANGLE_BASE+" 0,"+TRIANGLE_BASE);$(".poly6").attr("points",TRIANGLE_BASE+",0 "+TRIANGLE_BASE+","+TRIANGLE_BASE+" 0,"+TRIANGLE_BASE+" "+b+",0");$(".im1").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a-2*(b+c))+", 0)"});$(".im2").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a-1*(b+c))+", 0)"});$(".im3").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a)+", 0)"});$(".im4").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a+1*(b+c))+", 0)"});$(".im5").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a+2*(b+c))+", 0)"});navLabelScaling(b,c);prevScroll=0;scrollEvent()}}function navLabelScaling(a,b){var c=(NAVHEIGHT/Math.sqrt(3));$("#triLbl1").css({left:0+"px",width:a+"px"});$("#triLbl2").css({left:(1*(b+a)+c)+"px",width:(TRIANGLE_BASE-2*c)+"px"});$("#triLbl3").css({left:(3*(b+a)+c)+"px",width:(TRIANGLE_BASE-2*c)+"px"});$("#triLbl4").css({left:(5*(b+a))+"px",width:a+"px"})}$(function jQueryResize(){$(window).resize(function(){resizeEvent()})});$(function(){resizeEvent()});var prevScroll=0;var OPACITY;function scrollEvent(){var a=$(window).scrollTop();var c=a-prevScroll;prevScroll=a;var b=parseInt($("#svg1").attr("height"));if(c<0&&prevScroll<=TRIANGLE_BASE-NAVHEIGHT){b=Math.min(TRIANGLE_BASE,b-c);$("#svg1").attr("height",b)}else{if(c>0&&b>NAVHEIGHT){b=Math.max(NAVHEIGHT,b-c);$("#svg1").attr("height",b)}}OPACITY=NAVHEIGHT/b;$(".scrolledNav").attr("opacity",OPACITY);if(OPACITY==1){$(".triLbl").removeClass("hidden").css({"padding-top":"8px","font-size":NAVHEIGHT*0.45+"px"})}else{$(".triLbl").addClass("hidden").css({"padding-top":(b*0.3)+"px","font-size":Math.max((b+a/2)*0.07,NAVHEIGHT*0.5)+"px"})}}$(function jQueryScroll(){$(window).scroll(function(){scrollEvent()})});function smoothScroll(b,a){$("html, body").animate({scrollTop:$(b).offset().top-NAVHEIGHT-a},1000)}$(function imageSelectors(){$(".im1").on("click",function(){smoothScroll(".our-story",0)}).hover(function(){$("#im1Poly").attr("opacity",0.8>OPACITY?0.8:2);$("#triLbl1").removeClass("hidden")},function(){$("#im1Poly").attr("opacity",OPACITY);if(OPACITY!=1){$("#triLbl1").addClass("hidden")}});$(".im2").on("click",function(){smoothScroll(".portfolio",0)}).hover(function(){$("#im2Poly").attr("opacity",0.8>OPACITY?0.8:2);$("#triLbl2").removeClass("hidden")},function(){$("#im2Poly").attr("opacity",OPACITY);if(OPACITY!=1){$("#triLbl2").addClass("hidden")}});$(".im3").on("click",function(){window.location.href="//developersfoundation.ca"}).hover(function(){$("#im3Poly").attr("opacity",0.8>OPACITY?0.8:2)},function(){$("#im3Poly").attr("opacity",OPACITY)});$(".im4").on("click",function(){smoothScroll(".application",0)}).hover(function(){$("#im4Poly").attr("opacity",0.8>OPACITY?0.8:2);$("#triLbl3").removeClass("hidden")},function(){$("#im4Poly").attr("opacity",OPACITY);if(OPACITY!=1){$("#triLbl3").addClass("hidden")}});$(".im5").on("click",function(){smoothScroll(".exec-team",0)}).hover(function(){$("#im5Poly").attr("opacity",0.8>OPACITY?0.8:2);$("#triLbl4").removeClass("hidden")},function(){$("#im5Poly").attr("opacity",OPACITY);if(OPACITY!=1){$("#triLbl4").addClass("hidden")}});$(".scrolledNav").hover(function(){$(this).attr("fill","#b9b2de")},function(){$(this).attr("fill","#988FCE")});$("#std").on("click",function(){window.location.href="#"});$("#npo").on("click",function(){window.location.href="#"})});function blink(){$("#blink").fadeOut(500).fadeIn(500)}setInterval(blink,1300);var SECTIONS=[".our-story",".portfolio",".application",".exec-team"];var SECTIONS_OFFSET=[0,0,0,0];$(function scrollButton(){$("#upButton").on("click",determineNextSectionCall);$("#downButton").on("click",determineNextSection)});function determineNextSection(e){var d=e?0:2;var b=e?2:-2;if(e==null){e=true}var c=$(window).scrollTop();for(var a=d;a<d+4;a=e?a+1:a-1){if(compare($(SECTIONS[a%4]).offset().top-windowHeight*SECTIONS_OFFSET[a%4],(c+NAVHEIGHT+b),e)){smoothScroll(SECTIONS[a%4],windowHeight*SECTIONS_OFFSET[a%4]);break}if((e&&a==3)||(!e&&a==0)){smoothScroll("#spacer",windowHeight*0.1);break}}}function determineNextSectionCall(){determineNextSection(false)}function compare(d,c,e){if(e){return d>c}else{return Math.abs(d-c)>windowWidth*0.3?d<c:false}}$(document).ready(function(){$("form.form-email").submit(function(j){if(j.preventDefault){j.preventDefault()}else{j.returnValue=false}var c=$(this).closest("form.form-email");var d=c.find("button");d.prop("disabled",true);var n=c.find(".form-input-email");var m=c.find(".form-input-name");var a=c.find(".form-input-message");if(c.attr("data-form-type").indexOf("nob")>-1){var g=n.val(),h="",k="Message from "+m.val(),b=a.val(),l="<p>"+a.val()+"<p>",i=m.val(),f="Fakey McFakeName";var o=JSON.stringify({sendFrom:g,fromName:i,sendTo:h,toName:f,subject:k,msg:b,msgHTML:l});$.ajax({url:"html_elements/mailer.php",crossDomain:false,data:o,method:"POST",cache:false,dataType:"json",contentType:"application/json; charset=utf-8",success:function(p){var e=p;d.removeClass("btn-primary");if(e.success){n.val("");m.val("");a.val("");d.html("Received");d.addClass("btn-success")}else{d.html("Sorry an error occurred");d.addClass("btn-danger")}d.prop("disabled",false)},error:function(e){d.html("Received");d.addClass("btn-success")}})}})});