var TRIANGLE_BASE;var NAVHEIGHT=40;var MOBILE=-1;var windowHeight;function resizeEvent(){var c=$(this).width();windowHeight=$(this).height();TRIANGLE_BASE=Math.floor(c/3);var b=Math.floor(c/6);var d=Math.floor(c*0.005);var a=Math.floor(c/2)-b;if(c<=750){if(MOBILE==0||MOBILE==-1){MOBILE=1;$("#mobileNav").removeClass("hidden");$("#triangleNav").addClass("hidden");$("#spacer").css("margin-top",NAVHEIGHT)}}else{if(MOBILE==1||MOBILE==-1){MOBILE=0;$("#triangleNav").removeClass("hidden");$("#spacer").removeClass("hidden");$("#mobileNav").addClass("hidden")}$("#svg1").attr({width:c,height:TRIANGLE_BASE});$("#spacer").css("margin-top",TRIANGLE_BASE+10);$(".poly1").attr("points",b+",0 0,"+TRIANGLE_BASE+" "+TRIANGLE_BASE+","+TRIANGLE_BASE);$(".poly2").attr("points","0,0 "+TRIANGLE_BASE+",0 "+b+","+TRIANGLE_BASE);$(".poly5").attr("points","0,0 "+b+",0 "+TRIANGLE_BASE+","+TRIANGLE_BASE+" 0,"+TRIANGLE_BASE);$(".poly6").attr("points",TRIANGLE_BASE+",0 "+TRIANGLE_BASE+","+TRIANGLE_BASE+" 0,"+TRIANGLE_BASE+" "+b+",0");$(".im1").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a-2*(b+d))+", 0)"});$(".im2").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a-1*(b+d))+", 0)"});$(".im3").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a)+", 0)"});$(".im4").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a+1*(b+d))+", 0)"});$(".im5").attr({width:TRIANGLE_BASE,height:TRIANGLE_BASE,transform:"translate("+(a+2*(b+d))+", 0)"});var e=(NAVHEIGHT/Math.sqrt(3));$("#triLbl1").css({left:0+"px",width:b+"px"});$("#triLbl2").css({left:(1*(d+b)+e+10)+"px",width:(TRIANGLE_BASE-2*e)+"px"});$("#triLbl3").css({left:(3*(d+b)+e+10)+"px",width:(TRIANGLE_BASE-2*e)+"px"});$("#triLbl4").css({left:(5*(d+b))+"px",width:b+"px"});prevScroll=0;scrollEvent()}}$(function jQueryResize(){$(window).resize(function(){resizeEvent()})});$(function(){resizeEvent()});var prevScroll=0;var OPACITY;function scrollEvent(){var a=$(window).scrollTop();var c=a-prevScroll;prevScroll=a;var b=parseInt($("#svg1").attr("height"));if(c<0&&prevScroll<=TRIANGLE_BASE-NAVHEIGHT){b=Math.min(TRIANGLE_BASE,b-c);$("#svg1").attr("height",b)}else{if(c>0&&b>NAVHEIGHT){b=Math.max(NAVHEIGHT,b-c);$("#svg1").attr("height",b)}}OPACITY=NAVHEIGHT/b;$(".scrolledNav").attr("opacity",OPACITY);if(OPACITY==1){$(".triLbl").removeClass("hidden").css("padding-top","8px")}else{$(".triLbl").addClass("hidden").css("padding-top",(b*0.4)+"px")}}$(function jQueryScroll(){$(window).scroll(function(){scrollEvent()})});function smoothScroll(b,a){$("html, body").animate({scrollTop:$(b).offset().top-NAVHEIGHT-a},1000)}$(function imageSelectors(){$(".im1").on("click",function(){smoothScroll("#our-story",windowHeight*0.055)}).hover(function(){$("#landerImage1").css("opacity",0.7);$("#triLbl1").removeClass("hidden")},function(){$("#landerImage1").css("opacity",1);if(OPACITY!=1){$("#triLbl1").addClass("hidden")}});$(".im2").on("click",function(){smoothScroll("#portfolio",windowHeight*0.03)}).hover(function(){$("#landerImage2").css("opacity",0.7);$("#triLbl2").removeClass("hidden")},function(){$("#landerImage2").css("opacity",1);if(OPACITY!=1){$("#triLbl2").addClass("hidden")}});$(".im3").on("click",function(){window.location.href="//developersfoundation.ca"}).hover(function(){$("#landerImage3").css("opacity",0.7)},function(){$("#landerImage3").css("opacity",1)});$(".im4").on("click",function(){smoothScroll("#application",windowHeight*0.1)}).hover(function(){$("#landerImage4").css("opacity",0.7);$("#triLbl3").removeClass("hidden")},function(){$("#landerImage4").css("opacity",1);if(OPACITY!=1){$("#triLbl3").addClass("hidden")}});$(".im5").on("click",function(){smoothScroll("#exec-team",0)}).hover(function(){$("#landerImage5").css("opacity",0.7);$("#triLbl4").removeClass("hidden")},function(){$("#landerImage5").css("opacity",1);if(OPACITY!=1){$("#triLbl4").addClass("hidden")}});$(".scrolledNav").hover(function(){$(this).attr("fill","#6731ab")},function(){$(this).attr("fill","#4F2683")});$("#std").on("click",function(){window.location.href="#"});$("#npo").on("click",function(){window.location.href="#"})});var SECTIONS=["#our-story","#portfolio","#application","#exec-team"];var SECTIONS_OFFSET=[0.055,0.03,0.1,0];$(function scrollButton(){$("#downButton").on("click",function(){var b=$(window).scrollTop();for(var a in SECTIONS){if($(SECTIONS[a]).offset().top-windowHeight*SECTIONS_OFFSET[a]>(b+NAVHEIGHT+2)){smoothScroll(SECTIONS[a],windowHeight*SECTIONS_OFFSET[a]);break}if(a==3){smoothScroll("#spacer",0)}}})});$(document).ready(function(){$("form.form-email").submit(function(j){if(j.preventDefault){j.preventDefault()}else{j.returnValue=false}var c=$(this).closest("form.form-email");var d=c.find("button");d.prop("disabled",true);var n=c.find(".form-input-email");var m=c.find(".form-input-name");var a=c.find(".form-input-message");if(c.attr("data-form-type").indexOf("nob")>-1){var g=n.val(),h="psalvato@uwo.ca",k="Message from "+m.val(),b=a.val(),l="<p>"+a.val()+"<p>",i=m.val(),f="Fakey McFakeName";var o=JSON.stringify({sendFrom:g,fromName:i,sendTo:h,toName:f,subject:k,msg:b,msgHTML:l});$.ajax({url:"html_elements/mailer.php",crossDomain:false,data:o,method:"POST",cache:false,dataType:"json",contentType:"application/json; charset=utf-8",success:function(p){console.log(p);var e=p;d.removeClass("btn-primary");if(e.success){n.val("");m.val("");a.val("");d.html("Received");d.addClass("btn-success")}else{d.html("Sorry an error occurred");d.addClass("btn-danger")}d.prop("disabled",false)},error:function(e){console.log("Email was not sent successfully.");console.log(e);d.html("Sorry an error occured");d.removeClass("btn-primary");d.addClass("btn-danger");d.prop("disabled",false)}})}})});